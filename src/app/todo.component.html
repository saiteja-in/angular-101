<div class="max-w-2xl mx-auto my-4 md:my-8 p-4 md:p-8 bg-white rounded-xl shadow-lg">
  <!-- Header -->
  <header class="text-center mb-8">
    <h1 class="text-4xl font-semibold text-gray-800 mb-2">üìù Todo List</h1>
    <p class="text-gray-600 text-sm">Manage your tasks efficiently</p>
  </header>

  <!-- Add Todo Form -->
  <form (ngSubmit)="addTodo()" class="flex flex-col md:flex-row gap-2 mb-6">
    <input
      [(ngModel)]="newTodoText"
      name="todoText"
      placeholder="What needs to be done?"
      class="flex-1 px-3 py-3 border-2 border-gray-300 rounded-lg text-base focus:outline-none focus:border-green-500 transition-colors"
      (keyup.enter)="addTodo()"
    />
    <button
      type="submit"
      [disabled]="!newTodoText.trim()"
      class="px-6 py-3 bg-green-500 text-white rounded-lg text-base font-medium cursor-pointer transition-colors hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed"
    >
      Add Todo
    </button>
  </form>

  <!-- Filter Buttons -->
  <div class="flex gap-2 mb-6 justify-center flex-wrap">
    @for (filter of filterTypes; track filter) {
      <button
        [class.bg-green-500]="todoService.filterSignal() === filter"
        [class.text-white]="todoService.filterSignal() === filter"
        [class.border-green-500]="todoService.filterSignal() === filter"
        [class.bg-white]="todoService.filterSignal() !== filter"
        [class.border-gray-300]="todoService.filterSignal() !== filter"
        (click)="setFilter(filter)"
        class="px-4 py-2 border-2 rounded-lg cursor-pointer transition-all text-sm hover:border-green-500 hover:bg-green-50"
      >
        {{ filter === 'all' ? 'All' : filter === 'active' ? 'Active' : 'Completed' }}
      </button>
    }
  </div>

  <!-- Todo List -->
  <div class="mb-6 min-h-[200px]">
    @if (todoService.filteredTodos().length === 0) {
      <div class="text-center py-12 px-4 text-gray-500">
        <p class="text-lg mb-2">No todos found.</p>
        <small class="text-sm">Add a todo above to get started!</small>
      </div>
    } @else {
      @for (todo of todoService.filteredTodos(); track todo.id) {
        <div
          class="flex items-center gap-3 p-4 mb-2 bg-gray-50 border border-gray-300 rounded-lg transition-all hover:bg-gray-100 hover:shadow-sm"
          [class.opacity-60]="todo.completed"
        >
          <input
            type="checkbox"
            [checked]="todo.completed"
            (change)="toggleTodo(todo.id)"
            class="w-5 h-5 cursor-pointer"
          />
          <span
            class="flex-1 text-base text-gray-800"
            [class.line-through]="todo.completed"
            [class.text-gray-500]="todo.completed"
          >
            {{ todo.text }}
          </span>
          <button
            (click)="removeTodo(todo.id)"
            class="w-7 h-7 bg-red-500 text-white border-none rounded-full cursor-pointer text-base flex items-center justify-center transition-colors hover:bg-red-600"
            title="Delete todo"
          >
            ‚úï
          </button>
        </div>
      }
    }
  </div>

  <!-- Statistics and Actions -->
  <div class="pt-6 border-t border-gray-300 flex flex-col gap-4">
    <div class="flex justify-around flex-wrap gap-4">
      <span class="text-gray-600 text-sm">
        Total: <strong class="text-gray-800 text-lg">{{ stats().total }}</strong>
      </span>
      <span class="text-gray-600 text-sm">
        Active: <strong class="text-gray-800 text-lg">{{ stats().active }}</strong>
      </span>
      <span class="text-gray-600 text-sm">
        Completed: <strong class="text-gray-800 text-lg">{{ stats().completed }}</strong>
      </span>
    </div>

    @if (stats().completed > 0) {
      <button
        (click)="clearCompleted()"
        class="px-4 py-2 bg-orange-500 text-white border-none rounded-lg cursor-pointer text-sm transition-colors hover:bg-orange-600"
      >
        Clear Completed
      </button>
    }

    @if (stats().total > 0) {
      <div class="text-center">
        <button
          (click)="toggleAll()"
          class="px-4 py-2 bg-orange-500 text-white border-none rounded-lg cursor-pointer text-sm transition-colors hover:bg-orange-600"
        >
          {{ allCompleted() ? 'Uncheck All' : 'Check All' }}
        </button>
      </div>
    }
  </div>
</div>

